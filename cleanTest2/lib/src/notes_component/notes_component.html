<h2>NOTES</h2>

<!-- Ein Notebutton für jede Note des Users werden angezeigt -->
<div *ngFor="let note of noteList">
    <button class="notesButton" (click)="selectNote(note)">
        <h3>{{note.headline}}</h3>
        <div><p>due to: </p></div>
        <p>{{note.due}}
        <p>{{note.relevance.toString()}}</p>
    </button>
</div>
<br>
<!-- Button um Hinzufügen Formular anzuzeigen -->
<button (click)="createAddForm()">Add Note</button>

<!-- Details der selektierten Note werden angezeigt, wenn grade nicht editiert wird -->
<!-- Mit Knöpfen zum Löschen, Editieren und versenden an andere User -->
<div class="details" *ngIf="selectedNote != null && editing == false">

    <!--<p>{{selectedNote.id}}</p>-->
    <p>Author: </p><p>{{selectedNote.author}}</p>
    <p>Headline: {{selectedNote.headline}}</p>
    <p>Created: {{selectedNote.created}}</p>
    <p>Last Edited: {{selectedNote.lastEdited}}</p>
    <p>Due: {{selectedNote.due}}</p>
    <p>Relevance: {{selectedNote.relevance}}</p>
    <p class="contentP">Content:            {{selectedNote.content}}</p>

    <button (click)="deleteNote(selectedNote)">Delete</button>
    <button (click)="startEditNote()">Edit</button>
    <br>

    <input type="text" name="user" #username><br>
    <button (click)="sendToUser(username.value)">Send To</button>
</div>

<!-- Editierung Formular -->
<!-- Knöpfe zum Submitten der änderungen und zum Abbrechen des Editierens -->
<div *ngIf="editing == true">
    <div>
        <form >
            headline: <br>
            <input type="text" [value]="selectedNote.headline" name="headline"  #headline ><br>
            due: <br>
            <input type="date" [value]="selectedNote.due" name="dueDate" #due><br>
            relevance: <br>
            <textarea rows="4" cols="50" [value]="selectedNote.content" #content ></textarea>
            <select name="relevance" [value]="selectedNote.relevance" #relevance >
                <option value="Relevance.NORMAL">Normal</option>
                <option value="Relevance.IMPORTANT">Important</option>
                <option value="Relevance.URGENT">Urgent</option>
            </select>
        </form>
        <button (click)="cancelUpdate()">Cancel</button>
        <button (click)="updateNote(due.value, headline.value, relevance.value, content.value)">Submit</button>
        <p>{{errorMessage}}</p>
    </div>
</div>

<!-- Hinzufügen Formular -->
<div *ngIf="showForm == true">
    <div>
        <form >
            headline: <br>
            <input type="text" name="headline"  #headline ><br>

            <input type="checkbox" name="checkDue" checked #check>

            due: <br>
            <input type="date" name="dueDate" #due><br>

            content: <br>
            <textarea rows="4" cols="50" #content></textarea>

            relevance: <br>
            <select name="relevance" #relevance >
                <option value="Relevance.NORMAL">Normal</option>
                <option value="Relevance.IMPORTANT">Important</option>
                <option value="Relevance.URGENT">Urgent</option>
            </select>

        </form>
        <button (click)="submitAddForm(due.value, headline.value, relevance.value, content.value)">Submmit</button>
        <p>{{errorMessage}}</p>
    </div>

</div>